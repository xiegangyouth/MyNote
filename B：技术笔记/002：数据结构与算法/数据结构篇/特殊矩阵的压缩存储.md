# Q：什么是压缩存储？

把多个相同的元素分配一个存储空间，元素为0的不分配空间。

# Q：什么样的矩阵能够被压缩？

## 1、对称矩阵

对称矩阵：数据元素沿对角线对称

> `根据其对称性，只存储其上三角或下三角就可以了`

$$
\left[
\begin{matrix}
 1	&	2	&	3	&	4 \\
  2	&	5	&	6	&	7 \\
  3	&	6	&	8	&	9 \\
  4	&	7	&	9	&	6 \\
\end{matrix}
\right]
$$

不论按上三角存储还是下三角存储，只需存储$	\frac{n\times(n+1)}{2}	$个元素。

> 第1行：存储n个元素
>
> 第2行：存储n-1个元素
>
> ...
>
> 第n行：存储1个元素
>
> ---
>
> 总共存储$ n+(n-1)+(n-2)+...+1=\frac{n\times(n+1)}{2}$个元素

**按行序存储下三角，怎么找到$a~ij~$的存储下标(==[注意：此处下标从1开始]==)：**
$$
\left[
\begin{matrix}
 a11	&	a12	&	a13	&	...	&	...	&	...	&	a14 \\
 a21	&	a22	&	a23	&	...	&	...	&	...	&	a24 \\
 ...	&	...	&	...	&	...	&	...	&	...	&	... \\
 ai1	&	ai2	&	ai3	&	...	&	aij	&	...	&	ain \\
 ...	&	...	&	...	&	...	&	...	&	...	&	... \\
 ...	&	...	&	...	&	...	&	...	&	...	&	... \\
  an1	&	an2	&	an3	&	...	&	...	&	...	&	ann \\
\end{matrix}
\right]
$$

$$
aij前面的元素个数=\left\{
\begin{aligned}
\frac{i(i-1)}{2}+j-1       &      & {i>=j（下三角）}\\
\frac{j(j-1)}{2}+i-1       &      & {i<j（上三角）}\\
\end{aligned}
\right.
$$

> 存储下标计算秘籍：若用一维数组s[]存储（==[下标从0开始]==），$	a~ij~的存储下标k=a~ij~前面的元素个数	$
>
> $	LOC(a~ij~)=LOC(a~11~)+k\times L	$
>
> $	LOC(a11)	$为首地址，$L$为元素所占字节个数

例题：一个$	n\times n	$的对称矩阵 A，将其下三角按行存放在一维数组B中，$	A[0][0]	$存放在$B[0]$中，$A[i][i]$存放在B数组的下标是多少？

> $\frac{i(i+1)}{2}+i	$（==[注意：下标从0开始]==）

## 2、三角矩阵

三角矩阵比较特殊，分为下三角矩阵和上三角矩阵，下三角矩阵是指矩阵下三角有数据，而其余元素均为常数c或均未0
$$
{\begin{matrix}
下三角=\begin{bmatrix}
 1	&	3	&	3	&	3 \\
 2	&	5	&	3	&	3 \\
 3	&	6	&	8	&	3 \\
 4	&	7	&	9	&	6 \\
\end{bmatrix} &  上三角 = \begin{bmatrix}
 1	&	2	&	3	&	4 \\
 0	&	5	&	6	&	7 \\
 0	&	0	&	8	&	9 \\
 0	&	0	&	0	&	6 \\
\end{bmatrix}
\end{matrix}}
$$
下三角矩阵按行存储时，$	a~ij~	​$前面的元素个数为：$	k=	\left\{
\begin{aligned}
&\frac{i(i-1)}{2}+j-1       &      & {i>=j（下三角）}\\
&\frac{n(n+1)}{2}       &      & {i<j（上三角为常数或0）}\\
\end{aligned}
\right.​$

## 3、对角矩阵

若一个n阶方阵A满足其所有非零元素都集中在以主对角为中心的带状区域中，则称其为n阶**对角矩阵**。
$$
\left[
\begin{matrix}
 1	&	2	&	0	&	0 \\
  2	&	5	&	6	&	0 \\
  0	&	6	&	8	&	9 \\
  0	&	0	&	9	&	6 \\
\end{matrix}
\right]
$$


## 4、稀疏矩阵

矩阵中非零个数较少（一般认为非零元素个数<5%的矩阵为稀疏矩阵）