# 什么是API管理？

API 是跨企业和云连接应用和数据的工具，而` API 管理就是指分发、控制、分析的这些API的过程`。API 管理的目标，是让创建 API 或使用他人 API 的机构能够监控其 API 活动，确保满足使用 API 的开发人员和应用的需求。

# 什么是微服务？

微服务架构是指`将一个独立的应用程序按照功能拆解为多个小型的服务系统`，各服务之间相互协调、相互配合。在微服务架构中，每个服务都是独立部署并运行在独立的进程当中，微服务间采用轻量级通信机制进行通信，更加准确高效地实现系统性能与价值。

> Spring Cloud 正是一款基于 Spring Boot 的微服务架构工具。Spring Cloud 集微服务架构中服务治理、配置管理、API 网关及集群状态等各方面特性于一身，是一款具备微服务架构实施能力的综合性解决框架。再加上 Spring Cloud 与 Spring 体系中 Spring Boot、Spring Framework、Spring Data 等其他项目的高度融合性，使其捕获了一大批忠实的开发用户。

# 什么是集群？

> **维基百科**：计算机集群简称集群是一种计算机系统，它通过一组松散集成的计算机软件和/或硬件连接起来高度紧密地协作完成计算工作。在某种意义上，他们可以被看作是一台计算机。集群系统中的单个计算机通常称为节点，通常通过局域网连接，但也有其它的可能连接方式。集群计算机通常用来改进单个计算机的计算速度和/或可靠性。一般情况下集群计算机比单个计算机，比如工作站或超级计算机性能价格比要高得多

集群技术特点：

- `通过多台计算机完成同一个工作，达到更高的效率。`
- `两机或多机内容、工作过程等完全一样。如果一台死机，另一台可以起作用。`

> **在维基百科上说得也挺明白的了，我来举个例子吧。**
>
> - 小周在公司写Java程序，但公司业务在发展，一个Java开发者可能**忙不过来**，小周有的时候也得**请个假呀**。于是请了3y过去**一起做Java开发**。平时小周和3y就写Java程序，但3y可能**有事**要回学校一趟。没事，公司还有小周做Java开发呢，公司开发还能继续运作。
>
> - - 3y跟小周**都是做Java开发**。
>   - 3y来了，小周的工作可以**分担**一些。
>   - 3y请假了，还有小周在呢。
>
> 我写了一个910便利网发布到服务器去了，现在越来越多的人访问了，访问有点慢，怎么办？？？很简单，(只有充钱才能变强)，加配置吧(加cpu，加内存)。升级完配置之后，访问人数越来越多，于是发现又不禁用啦，在这台机器上加配置已经解决不了了，怎么办？？？很简单，(只有充钱才能变强)，我**再买一台服务器，将910便利网也发布到新买的这台服务器上去**。
>
> 特点：
>
> - 这两台服务器都是运行**同一个系统**--->910便利网
>
> 好处：
>
> - 本来只有一台机器处理访问，现在有两台机器处理访问了，**分担了压力**。
> - 如果其中一台忘记缴费了，暂时用不了了。没关系，还有另一台可以用呢。

**`集群`**：`同一个业务，部署在多个服务器上(不同的服务器运行同样的代码，干同一件事)`

# 什么是分布式？

> **维基百科**：分布式系统是一组计算机，通过网络相互连接传递消息与通信后并协调它们的行为而形成的系统。**组件之间彼此进行交互以实现一个共同的目标**。

> 我也来举个例子来说明一下吧：
>
> - 现在公司有小周和3y一起做Java开发，做Java开发一般jQuery，AJAX都能写一点，所以这些活都由我们来干。可是呢，3y对前端不是很熟，有的时候调试半天都调不出来。老板认为3y是真的菜！于是让小周**专门来处理前端**的事情。这样3y就高兴了，可以**专心写自己的Java**，前端就**专门**交由小周负责了。于是，小周和3y就变成了**协作开发**。
>
> - - 3y对前端不熟(能写出来)，但在调试的时候可能会花费很多时间
>   - 小周来**专门做前端**的事，3y可以**专心写自己的Java程序**了。
>   - 都是为了项目正常运行以及迭代。
>
> 我的910便利网已经部署到两台服务器去了，但是越来越多的人去访问。现在也逐渐承受不住啦。那现在怎么办啊？？那继续充钱变强？？作为一个理智的我，肯定得想想是哪里有问题。现在910便利网的模块有好几个，全都丢在同一个Tomcat里边。
>
> 其实有些模块的访问是很低的(比如后台管理)，那我可不可以这样做：将每个模块**抽取独立**出来，访问量大的模块用好的服务器装着，没啥人访问的模块用差的服务器装着。这样的好处是：一、**资源合理利用了**(没人访问的模块用性能差的服务器，访问量大的模块**单独提升性能**就好了)。二、**耦合度降低了**：每个模块独立出来，各干各的事(专业的人做专业的事)，便于扩展
>
> 特点：
>
> - 将910便利网的**功能拆分，模块之间独立**，在使用的时候再将这些**独立的模块组合起来**就是一个系统了。
>
> 好处：
>
> - 模块之间独立，各做各的事，**便于扩展，复用性高**
> - **高吞吐量**。某个任务需要一个机器运行10个小时，将该任务用10台机器的分布式跑(将这个任务拆分成10个小任务)，可能2个小时就跑完了

**`分布式`**：`一个业务分拆多个子业务，部署在不同的服务器上(不同的服务器，运行不同的代码，为了同一个目的)`

# 集群/分布式

集群和分布式并不冲突，可以有**`分布式集群`**

现在3y的公司规模变大了，有5个小伙子写Java，4个小伙子写前端，2个小伙子做测试，1个小伙子做DBA。

- Java，前端，测试，DBA的关系看作是分布式的
- 5个Java看作是集群的(前端，测试同理)…

![这里写图片描述](https://i.loli.net/2020/11/13/a5NLIM3lEq6yDt9.jpg)

# API网关

![](https://i.loli.net/2020/11/13/hOtasxQr6AzjIbq.png)

> 我们总是听到编排这个词，所以我喜欢这张幻灯片 – 它展示了一个乐队，然后有个指挥家，下面一堆人（微型服务）演奏自己的乐器。这个指挥家（API网关）可以以某种方式来协调我们的架构如何处理请求。

![img](http://blog.didispace.com/content/images/posts/hzf-ms-apigateway-1-10.png)

API 网关模式意味着你要把API 网关放到你的微服务们的最前端，并且要让API 网关变成由应用所发起的每个请求的入口。这样就可以明显的简化客户端实现和微服务应用程序之间的沟通方式。